<%= javascript_include_tag "jquery.joyride-2.1" %>
<img class="single-ability-img" src="" type="image" alt="monster abiltiy">

<audio controls loop class="hide">
  <source src="/sounds/battle_song.mp3" type="audio/mpeg">
</audio>

<div id="overlay">
  <div class="panel-body message">
    Time to take out the trash!
  </div>
    <%= image_tag(@battle.start_cutscene, class: "cutscene") %>
</div>

<div class="battle" data-index="<%= @battle.id %>">
  <div class="panel-body battle-message">
    Time to Die!!!
  </div>

  <div class="panel-body battle-guide guide">
    I will help you
  </div>

  <button class="battle-guide cancel">Cancel</button>


  <%= image_tag("platform.jpg", class: "platform") %>
  <img class="ability-img" src="" type="image" alt="monster abiltiy">

  <div class="0 user info">
    <% @user_party.mons.each do |mon| %>
      <div class="mon mon<%= @user_party.mon_dex(mon) %>" data-index="<%= @user_party.mon_dex(mon)%>">
        <div class="effect-box"></div>
        <%= render :partial => "userTeamInfo", :locals => { :mon => mon, party: @user_party }  %>
      </div>
    <% end %>
  </div>

  <div class="0 user effect-info panel panel-default">
    <div class="panel-body">
      Effect description
    </div>
    <div class="panel-heading">Effect name</div>
  </div>

  <div class="0 user mon-slot" id="control-tip" data-team="0">
    <% @user_party.mons.each do |mon| %>
      <div class="mon mon<%= @user_party.mon_dex(mon) %>" data-index="<%= @user_party.mon_dex(mon) %>">
        <%= render :partial => "team", :locals => { :mon => mon, party: @user_party  } %>
      </div>
    <% end %>
  </div>

  <div id="first-stop"></div>

  <div class="1 enemy mon-slot" id="tutorial-end" data-team="1">
    <% @pc_party.mons.each do |mon| %>
      <div class="mon mon<%= @pc_party.mon_dex(mon) %>" data-index="<%= @pc_party.mon_dex(mon) %>">
        <%= render :partial => "team", :locals => { :mon => mon, party: @pc_party } %>
      </div>
    <% end %>
  </div>

  <div id="last-stop"></div>

  <div class="1 enemy info">
    <% @pc_party.mons.each do |mon| %>
      <div class="mon mon<%= @pc_party.mon_dex(mon) %>" data-index="<%= @pc_party.mon_dex(mon) %>">
        <div class="effect-box"></div>
        <%= render :partial => "pcTeamInfo", :locals => {:mon => mon}  %>
      </div>
    <% end %>
  </div>

  <div class="1 enemy effect-info panel panel-default">
    <div class="panel-body">
      Effect description
    </div>
    <div class="panel-heading">Effect name</div>
  </div>

  <div class="ap" id="ap-tip">
    <p class="ap-number">AP:   1000 / 1000 </p>
    <div class="ap-meter">
      <%= image_tag("APBar1px.gif", class: "bar") %>
    </div>
  </div>

  <button class="end-turn" id="end-turn-tip">End Turn</button>

</div>

<ol id="battle-tutorial" hidden>
  <li data-id="first-stop">This is your party. You control each monster by clicking on their image.</li>
  <li data-id="first-stop">There are three actions: Attack, Ability and Evolve.</li>
  <li data-id="ap-tip">Each action costs ability points (AP). You have a finite amount of AP. Your total AP increases by 10 per round, to a maximum 80.</li>
  <li data-id="end-turn-tip">When you have no other actions available or AP left, your "End Turn" button will highlight. Once the button is clicked, the enemy monsters will make their moves.</li>
  <li data-id="last-stop"> Now let's beat these guys to a pulp!</li>
</ol>





